import{s as z,f as Q,n as T,r as G,e as W}from"../chunks/scheduler.63274e7e.js";import{S as H,i as J,g as y,s as w,h as k,j as $,c as P,f as b,k as v,a as U,y as g,A as I,B as S,z as M,e as B,t as A,b as X,d as F,p as Y,r as Z,u as ee,v as te,w as se,m as E,n as x,o as V}from"../chunks/index.a7311e4f.js";import{e as K,b as D,d as le,c as re,s as ne}from"../chunks/authStore.c96964db.js";function j(i){let e,s="Failed to login!";return{c(){e=y("p"),e.textContent=s,this.h()},l(t){e=k(t,"P",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-13uo4rd"&&(e.textContent=s),this.h()},h(){v(e,"class","error svelte-ute823")},m(t,n){U(t,e,n)},d(t){t&&b(e)}}}function ae(i){let e,s,t,n,a,r,c,l,u,p,_,C,m=i[2]&&j();return{c(){e=y("form"),s=y("img"),n=w(),a=y("input"),r=w(),c=y("input"),l=w(),m&&m.c(),u=w(),p=y("input"),this.h()},l(d){e=k(d,"FORM",{class:!0});var f=$(e);s=k(f,"IMG",{class:!0,src:!0,alt:!0}),n=P(f),a=k(f,"INPUT",{class:!0,type:!0,placeholder:!0}),r=P(f),c=k(f,"INPUT",{class:!0,type:!0,placeholder:!0}),l=P(f),m&&m.l(f),u=P(f),p=k(f,"INPUT",{type:!0,class:!0}),f.forEach(b),this.h()},h(){v(s,"class","logo svelte-ute823"),Q(s.src,t="./images/pen.svg")||v(s,"src",t),v(s,"alt","logo"),v(a,"class","email svelte-ute823"),v(a,"type","email"),v(a,"placeholder","Email"),a.required=!0,v(c,"class","password svelte-ute823"),v(c,"type","password"),v(c,"placeholder","Password"),c.required=!0,v(p,"type","submit"),p.value="Login",v(p,"class","btn svelte-ute823"),v(e,"class","container neu-card svelte-ute823")},m(d,f){U(d,e,f),g(e,s),g(e,n),g(e,a),I(a,i[0]),g(e,r),g(e,c),I(c,i[1]),g(e,l),m&&m.m(e,null),g(e,u),g(e,p),_||(C=[S(a,"input",i[4]),S(c,"input",i[5]),S(e,"submit",i[3])],_=!0)},p(d,[f]){f&1&&a.value!==d[0]&&I(a,d[0]),f&2&&c.value!==d[1]&&I(c,d[1]),d[2]?m||(m=j(),m.c(),m.m(e,u)):m&&(m.d(1),m=null)},i:T,o:T,d(d){d&&b(e),m&&m.d(),_=!1,G(C)}}}function ue(i,e,s){let t="",n="",a=!1;async function r(){try{s(2,a=!1),await K.login(t,n)}catch{console.log("Login failed!"),s(2,a=!0)}}function c(){t=this.value,s(0,t)}function l(){n=this.value,s(1,n)}return[t,n,a,r,c,l]}class ie extends H{constructor(e){super(),J(this,e,ue,ae,z,{})}}function oe(i){let e,s;return e=new ie({}),{c(){Z(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,n){te(e,t,n),s=!0},p:T,i(t){s||(F(e.$$.fragment,t),s=!0)},o(t){A(e.$$.fragment,t),s=!1},d(t){se(e,t)}}}function ce(i){let e,s="Loading...";return{c(){e=y("div"),e.textContent=s},l(t){e=k(t,"DIV",{"data-svelte-h":!0}),M(e)!=="svelte-194gxkm"&&(e.textContent=s)},m(t,n){U(t,e,n)},p:T,i:T,o:T,d(t){t&&b(e)}}}function fe(i){let e,s,t=i[0].email+"",n,a,r,c="Logout",l,u,p,_,C,m,d,f=i[1].text+"",N,q,O;return{c(){e=y("div"),s=E("Current User: "),n=E(t),a=w(),r=y("button"),r.textContent=c,l=w(),u=y("form"),p=y("input"),_=w(),C=y("input"),m=w(),d=y("p"),N=E(f),this.h()},l(o){e=k(o,"DIV",{});var h=$(e);s=x(h,"Current User: "),n=x(h,t),h.forEach(b),a=P(o),r=k(o,"BUTTON",{"data-svelte-h":!0}),M(r)!=="svelte-pm79qf"&&(r.textContent=c),l=P(o),u=k(o,"FORM",{});var L=$(u);p=k(L,"INPUT",{type:!0}),_=P(L),C=k(L,"INPUT",{type:!0}),L.forEach(b),m=P(o),d=k(o,"P",{});var R=$(d);N=x(R,f),R.forEach(b),this.h()},h(){v(p,"type","text"),v(C,"type","submit"),C.value="Save!"},m(o,h){U(o,e,h),g(e,s),g(e,n),U(o,a,h),U(o,r,h),U(o,l,h),U(o,u,h),g(u,p),I(p,i[2]),g(u,_),g(u,C),U(o,m,h),U(o,d,h),g(d,N),q||(O=[S(r,"click",K.logout),S(p,"input",i[5]),S(u,"submit",i[6])],q=!0)},p(o,h){h&1&&t!==(t=o[0].email+"")&&V(n,t),h&4&&p.value!==o[2]&&I(p,o[2]),h&2&&f!==(f=o[1].text+"")&&V(N,f)},i:T,o:T,d(o){o&&(b(e),b(a),b(r),b(l),b(u),b(m),b(d)),q=!1,G(O)}}}function pe(i){let e,s,t,n;const a=[fe,ce,oe],r=[];function c(l,u){return l[3].currentUser?0:l[3].isLoading?1:2}return e=c(i),s=r[e]=a[e](i),{c(){s.c(),t=B()},l(l){s.l(l),t=B()},m(l,u){r[e].m(l,u),U(l,t,u),n=!0},p(l,[u]){let p=e;e=c(l),e===p?r[e].p(l,u):(Y(),A(r[p],1,1,()=>{r[p]=null}),X(),s=r[e],s?s.p(l,u):(s=r[e]=a[e](l),s.c()),F(s,1),s.m(t.parentNode,t))},i(l){n||(F(s),n=!0)},o(l){A(s),n=!1},d(l){l&&b(t),r[e].d(l)}}}function _e(i,e,s){let t;W(i,D,_=>s(3,t=_));let n,a,r="";async function c(){if(t.currentUser)try{const _=le(re,"users",t.currentUser.uid);await ne(_,a,{merge:!0}),console.log("Save successful!")}catch(_){console.log("There was an error saving data!",_)}}function l(_){D.update(C=>({...C,data:_})),c()}D.subscribe(_=>{_.currentUser&&s(0,n=_.currentUser),_.data&&s(1,a=_.data)});function u(){r=this.value,s(2,r)}return[n,a,r,t,l,u,()=>{l({text:r})}]}class ve extends H{constructor(e){super(),J(this,e,_e,pe,z,{})}}export{ve as component};
