import{s as G,h as B,n as q,r as ee,f as ie}from"../chunks/scheduler.85ef5b45.js";import{S as H,i as z,g as b,s as $,h as w,j as S,c as I,f as p,k as _,a as y,y as k,C as T,D as E,B as te,E as ue,F,e as Q,t as L,b as oe,d as M,p as ce,r as se,u as le,v as ne,w as re,m as O,n as R,o as W}from"../chunks/index.e89f4e4c.js";import{e as ae,b as j,d as fe,c as me,s as pe}from"../chunks/authStore.37cf8a2a.js";import{j as _e}from"../chunks/singletons.4c63de79.js";function X(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Y(r){let e,l="Failed to login!";return{c(){e=b("p"),e.textContent=l,this.h()},l(t){e=w(t,"P",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-13uo4rd"&&(e.textContent=l),this.h()},h(){_(e,"class","error svelte-76w8fm")},m(t,s){y(t,e,s)},d(t){t&&p(e)}}}function he(r){let e,l,t,s,a,n,m,o,c,i,f,U,d=r[2]&&Y();return{c(){e=b("form"),l=b("img"),s=$(),a=b("input"),n=$(),m=b("input"),o=$(),d&&d.c(),c=$(),i=b("input"),this.h()},l(v){e=w(v,"FORM",{class:!0});var h=S(e);l=w(h,"IMG",{class:!0,src:!0,alt:!0}),s=I(h),a=w(h,"INPUT",{class:!0,type:!0,placeholder:!0}),n=I(h),m=w(h,"INPUT",{class:!0,type:!0,placeholder:!0}),o=I(h),d&&d.l(h),c=I(h),i=w(h,"INPUT",{type:!0,class:!0}),h.forEach(p),this.h()},h(){_(l,"class","logo svelte-76w8fm"),B(l.src,t="./images/pen.svg")||_(l,"src",t),_(l,"alt","logo"),_(a,"class","email neu-inset svelte-76w8fm"),_(a,"type","email"),_(a,"placeholder","Email"),a.required=!0,_(m,"class","password neu-inset svelte-76w8fm"),_(m,"type","password"),_(m,"placeholder","Password"),m.required=!0,_(i,"type","submit"),i.value="Login",_(i,"class","btn svelte-76w8fm"),_(e,"class","container svelte-76w8fm")},m(v,h){y(v,e,h),k(e,l),k(e,s),k(e,a),T(a,r[0]),k(e,n),k(e,m),T(m,r[1]),k(e,o),d&&d.m(e,null),k(e,c),k(e,i),f||(U=[E(a,"input",r[4]),E(m,"input",r[5]),E(e,"submit",r[3])],f=!0)},p(v,[h]){h&1&&a.value!==v[0]&&T(a,v[0]),h&2&&m.value!==v[1]&&T(m,v[1]),v[2]?d||(d=Y(),d.c(),d.m(e,c)):d&&(d.d(1),d=null)},i:q,o:q,d(v){v&&p(e),d&&d.d(),f=!1,ee(U)}}}function de(r,e,l){let t="",s="",a=!1;async function n(){try{l(2,a=!1),await ae.login(t,s)}catch{console.log("Login failed!"),l(2,a=!0)}}function m(){t=this.value,l(0,t)}function o(){s=this.value,l(1,s)}return[t,s,a,n,m,o]}class ve extends H{constructor(e){super(),z(this,e,de,he,G,{})}}const ge=_e("after_navigate");function Z(r,e,l){const t=r.slice();return t[3]=e[l],t[5]=l,t}function x(r){let e,l,t,s,a,n;function m(){return r[2](r[5])}return{c(){e=b("div"),l=b("img"),s=$(),this.h()},l(o){e=w(o,"DIV",{class:!0});var c=S(e);l=w(c,"IMG",{src:!0,alt:!0,class:!0}),s=I(c),c.forEach(p),this.h()},h(){B(l.src,t=r[3])||_(l,"src",t),_(l,"alt",""),_(l,"class","svelte-4mdqtf"),_(e,"class","slot neu svelte-4mdqtf"),F(e,"neu-animated-fall",r[1]!=r[5]),F(e,"neu-animated-rise",r[1]==r[5])},m(o,c){y(o,e,c),k(e,l),k(e,s),a||(n=E(e,"click",m),a=!0)},p(o,c){r=o,c&1&&!B(l.src,t=r[3])&&_(l,"src",t),c&2&&F(e,"neu-animated-fall",r[1]!=r[5]),c&2&&F(e,"neu-animated-rise",r[1]==r[5])},d(o){o&&p(e),a=!1,n()}}}function be(r){let e,l=X(r[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=x(Z(r,l,s));return{c(){e=b("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=w(s,"DIV",{class:!0});var a=S(e);for(let n=0;n<t.length;n+=1)t[n].l(a);a.forEach(p),this.h()},h(){_(e,"class","wrapper svelte-4mdqtf")},m(s,a){y(s,e,a);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null)},p(s,[a]){if(a&3){l=X(s[0]);let n;for(n=0;n<l.length;n+=1){const m=Z(s,l,n);t[n]?t[n].p(m,a):(t[n]=x(m),t[n].c(),t[n].m(e,null))}for(;n<t.length;n+=1)t[n].d(1);t.length=l.length}},i:q,o:q,d(s){s&&p(e),ue(t,s)}}}function we(r,e,l){let{logos:t=[]}=e,s=0;const a=n=>{l(1,s=n)};return r.$$set=n=>{"logos"in n&&l(0,t=n.logos)},[t,s,a]}class ye extends H{constructor(e){super(),z(this,e,we,be,G,{logos:0})}}function ke(r){let e,l,t;return l=new ve({}),{c(){e=b("div"),se(l.$$.fragment),this.h()},l(s){e=w(s,"DIV",{class:!0});var a=S(e);le(l.$$.fragment,a),a.forEach(p),this.h()},h(){_(e,"class","auth-container neu neu-animated-rise svelte-t7fcdi")},m(s,a){y(s,e,a),ne(l,e,null),t=!0},p:q,i(s){t||(M(l.$$.fragment,s),t=!0)},o(s){L(l.$$.fragment,s),t=!1},d(s){s&&p(e),re(l)}}}function Ue(r){let e,l,t=r[0].email+"",s,a,n,m="Logout",o,c,i,f,U,d,v,h=r[1].text+"",D,N,C,P,A,J;return C=new ye({props:{logos:["./images/logo.svg","./images/logo.svg","./images/logo.svg"]}}),{c(){e=b("div"),l=O("Current User: "),s=O(t),a=$(),n=b("button"),n.textContent=m,o=$(),c=b("form"),i=b("input"),f=$(),U=b("input"),d=$(),v=b("p"),D=O(h),N=$(),se(C.$$.fragment),this.h()},l(u){e=w(u,"DIV",{});var g=S(e);l=R(g,"Current User: "),s=R(g,t),g.forEach(p),a=I(u),n=w(u,"BUTTON",{"data-svelte-h":!0}),te(n)!=="svelte-pm79qf"&&(n.textContent=m),o=I(u),c=w(u,"FORM",{});var V=S(c);i=w(V,"INPUT",{type:!0}),f=I(V),U=w(V,"INPUT",{type:!0}),V.forEach(p),d=I(u),v=w(u,"P",{});var K=S(v);D=R(K,h),K.forEach(p),N=I(u),le(C.$$.fragment,u),this.h()},h(){_(i,"type","text"),_(U,"type","submit"),U.value="Save!"},m(u,g){y(u,e,g),k(e,l),k(e,s),y(u,a,g),y(u,n,g),y(u,o,g),y(u,c,g),k(c,i),T(i,r[2]),k(c,f),k(c,U),y(u,d,g),y(u,v,g),k(v,D),y(u,N,g),ne(C,u,g),P=!0,A||(J=[E(n,"click",ae.logout),E(i,"input",r[5]),E(c,"submit",r[6])],A=!0)},p(u,g){(!P||g&1)&&t!==(t=u[0].email+"")&&W(s,t),g&4&&i.value!==u[2]&&T(i,u[2]),(!P||g&2)&&h!==(h=u[1].text+"")&&W(D,h)},i(u){P||(M(C.$$.fragment,u),P=!0)},o(u){L(C.$$.fragment,u),P=!1},d(u){u&&(p(e),p(a),p(n),p(o),p(c),p(d),p(v),p(N)),re(C,u),A=!1,ee(J)}}}function $e(r){let e,l,t,s,a,n;const m=[Ue,ke],o=[];function c(i,f){return i[3].currentUser?0:1}return t=c(r),s=o[t]=m[t](r),{c(){e=b("div"),l=$(),s.c(),a=Q()},l(i){e=w(i,"DIV",{}),S(e).forEach(p),l=I(i),s.l(i),a=Q()},m(i,f){y(i,e,f),y(i,l,f),o[t].m(i,f),y(i,a,f),n=!0},p(i,[f]){let U=t;t=c(i),t===U?o[t].p(i,f):(ce(),L(o[U],1,1,()=>{o[U]=null}),oe(),s=o[t],s?s.p(i,f):(s=o[t]=m[t](i),s.c()),M(s,1),s.m(a.parentNode,a))},i(i){n||(M(s),n=!0)},o(i){L(s),n=!1},d(i){i&&(p(e),p(l),p(a)),o[t].d(i)}}}function Ie(r,e,l){let t;ie(r,j,f=>l(3,t=f));let s,a,n="";async function m(){if(t.currentUser)try{const f=fe(me,"users",t.currentUser.uid);await pe(f,a,{merge:!0}),console.log("Save successful!")}catch(f){console.log("There was an error saving data!",f)}}function o(f){j.update(U=>({...U,data:f})),m()}j.subscribe(f=>{f.currentUser&&l(0,s=f.currentUser),f.data&&l(1,a=f.data)}),ge(()=>{console.log("after navigate")});function c(){n=this.value,l(2,n)}return[s,a,n,t,o,c,()=>{o({text:n})}]}class Te extends H{constructor(e){super(),z(this,e,Ie,$e,G,{})}}export{Te as component};
