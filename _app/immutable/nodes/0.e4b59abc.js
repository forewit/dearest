import{i as I,s as A,o as M,c as O,u as R,g as V,d as z,e as U,n as q}from"../chunks/scheduler.85ef5b45.js";import{S as F,i as P,g as m,s as B,x as G,h as y,f as d,c as H,j as g,k as h,l as _,y as w,a as b,t as k,b as J,d as S,z as K,A as N,p as Q}from"../chunks/index.e89f4e4c.js";import{a as W,b as E,d as T,c as C,g as X,s as Y}from"../chunks/authStore.37cf8a2a.js";function Z({url:i}){return{url:i.pathname}}const $=!0,se=Object.freeze(Object.defineProperty({__proto__:null,load:Z,prerender:$},Symbol.toStringTag,{value:"Module"}));function L(i,{delay:s=0,duration:r=400,easing:o=I}={}){const n=+getComputedStyle(i).opacity;return{delay:s,duration:r,easing:o,css:u=>`opacity: ${u*n}`}}function j(i){let s,r,o,n;const u=i[5].default,a=O(u,i,i[4],null);return{c(){s=m("div"),a&&a.c()},l(e){s=y(e,"DIV",{});var t=g(s);a&&a.l(t),t.forEach(d)},m(e,t){b(e,s,t),a&&a.m(s,null),n=!0},p(e,t){a&&a.p&&(!n||t&16)&&R(a,u,e,e[4],n?z(u,e[4],t,null):V(e[4]),null)},i(e){n||(S(a,e),e&&U(()=>{n&&(o&&o.end(1),r=K(s,L,{duration:300,delay:300}),r.start())}),n=!0)},o(e){k(a,e),r&&r.invalidate(),e&&(o=N(s,L,{duration:300})),n=!1},d(e){e&&d(s),a&&a.d(e),e&&o&&o.end()}}}function x(i){let s,r,o,n,u=i[0].url,a,e=j(i);return{c(){s=m("meta"),r=B(),o=m("div"),n=m("div"),e.c(),this.h()},l(t){const l=G("svelte-1xk05yi",document.head);s=y(l,"META",{name:!0,content:!0}),l.forEach(d),r=H(t),o=y(t,"DIV",{class:!0,style:!0});var c=g(o);n=y(c,"DIV",{class:!0});var p=g(n);e.l(p),p.forEach(d),c.forEach(d),this.h()},h(){h(s,"name","viewport"),h(s,"content","width=device-width, user-scalable=0, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover"),h(n,"class","content svelte-tt5dk4"),h(o,"class","container svelte-tt5dk4"),_(o,"--notch-left",i[1]),_(o,"--notch-right",i[2]),_(o,"--notch-top",i[3])},m(t,l){w(document.head,s),b(t,r,l),b(t,o,l),w(o,n),e.m(n,null),a=!0},p(t,[l]){l&1&&A(u,u=t[0].url)?(Q(),k(e,1,1,q),J(),e=j(t),e.c(),S(e,1),e.m(n,null)):e.p(t,l),(!a||l&2)&&_(o,"--notch-left",t[1]),(!a||l&4)&&_(o,"--notch-right",t[2]),(!a||l&8)&&_(o,"--notch-top",t[3])},i(t){a||(S(e),a=!0)},o(t){k(e),a=!1},d(t){t&&(d(r),d(o)),d(s),e.d(t)}}}function ee(i,s,r){let{$$slots:o={},$$scope:n}=s,{data:u}=s,a=0,e=0,t=0;function l(){r(1,a=screen.orientation.type=="landscape-primary"?1:0),r(2,e=screen.orientation.type=="landscape-secondary"?1:0),r(3,t=screen.orientation.type=="portrait-primary"?1:0)}return M(()=>{screen.orientation.onchange=l,l(),W.onAuthStateChanged(async c=>{if(!c){E.update(f=>({...f,isLoading:!1,currentUser:c}));return}const p=T(C,"users",c.uid),D=await X(p);let v={text:""};if(D.exists())console.log("Fetching firestore user doc..."),v=D.data();else{console.log("Creating firestore user doc...");const f=T(C,"users",c.uid);await Y(f,v,{merge:!0})}E.update(f=>({...f,isLoading:!1,currentUser:c,data:v}))})}),i.$$set=c=>{"data"in c&&r(0,u=c.data),"$$scope"in c&&r(4,n=c.$$scope)},[u,a,e,t,n,o]}class ne extends F{constructor(s){super(),P(this,s,ee,x,A,{data:0})}}export{ne as component,se as universal};
