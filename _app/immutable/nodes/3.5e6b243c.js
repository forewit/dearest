import{s as z,f as Q,n as I,r as G,e as W}from"../chunks/scheduler.63274e7e.js";import{S as H,i as J,g as k,s as w,h as U,j as S,c as x,f as h,k as b,a as C,y,A as P,B as T,z as F,e as R,t as D,b as X,d as A,p as Y,r as Z,u as ee,v as te,w as se,m as L,n as $,o as V}from"../chunks/index.a7311e4f.js";import{e as K,b as q,d as le,c as re,s as ne}from"../chunks/authStore.c96964db.js";function B(i){let e,l="Failed to login!";return{c(){e=k("p"),e.textContent=l,this.h()},l(t){e=U(t,"P",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-13uo4rd"&&(e.textContent=l),this.h()},h(){b(e,"class","error svelte-oasjx0")},m(t,r){C(t,e,r)},d(t){t&&h(e)}}}function ae(i){let e,l,t,r,n,u,f,o,_,s,a,g,m=i[2]&&B();return{c(){e=k("form"),l=k("img"),r=w(),n=k("input"),u=w(),f=k("input"),o=w(),m&&m.c(),_=w(),s=k("input"),this.h()},l(d){e=U(d,"FORM",{class:!0});var p=S(e);l=U(p,"IMG",{class:!0,src:!0,alt:!0}),r=x(p),n=U(p,"INPUT",{class:!0,type:!0,placeholder:!0}),u=x(p),f=U(p,"INPUT",{class:!0,type:!0,placeholder:!0}),o=x(p),m&&m.l(p),_=x(p),s=U(p,"INPUT",{type:!0,class:!0}),p.forEach(h),this.h()},h(){b(l,"class","logo svelte-oasjx0"),Q(l.src,t="./images/pen.svg")||b(l,"src",t),b(l,"alt","logo"),b(n,"class","email svelte-oasjx0"),b(n,"type","email"),b(n,"placeholder","Email"),n.required=!0,b(f,"class","password svelte-oasjx0"),b(f,"type","password"),b(f,"placeholder","Password"),f.required=!0,b(s,"type","submit"),s.value="Login",b(s,"class","btn svelte-oasjx0"),b(e,"class","container neu-card svelte-oasjx0")},m(d,p){C(d,e,p),y(e,l),y(e,r),y(e,n),P(n,i[0]),y(e,u),y(e,f),P(f,i[1]),y(e,o),m&&m.m(e,null),y(e,_),y(e,s),a||(g=[T(n,"input",i[4]),T(f,"input",i[5]),T(e,"submit",i[3])],a=!0)},p(d,[p]){p&1&&n.value!==d[0]&&P(n,d[0]),p&2&&f.value!==d[1]&&P(f,d[1]),d[2]?m||(m=B(),m.c(),m.m(e,_)):m&&(m.d(1),m=null)},i:I,o:I,d(d){d&&h(e),m&&m.d(),a=!1,G(g)}}}function ue(i,e,l){let t="",r="",n=!1;async function u(){try{l(2,n=!1),await K.login(t,r)}catch{console.log("Login failed!"),l(2,n=!0)}}function f(){t=this.value,l(0,t)}function o(){r=this.value,l(1,r)}return[t,r,n,u,f,o]}class ie extends H{constructor(e){super(),J(this,e,ue,ae,z,{})}}function oe(i){let e,l;return e=new ie({}),{c(){Z(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,r){te(e,t,r),l=!0},p:I,i(t){l||(A(e.$$.fragment,t),l=!0)},o(t){D(e.$$.fragment,t),l=!1},d(t){se(e,t)}}}function ce(i){let e,l="Loading...";return{c(){e=k("div"),e.textContent=l},l(t){e=U(t,"DIV",{"data-svelte-h":!0}),F(e)!=="svelte-194gxkm"&&(e.textContent=l)},m(t,r){C(t,e,r)},p:I,i:I,o:I,d(t){t&&h(e)}}}function fe(i){let e,l,t=i[0].email+"",r,n,u,f="Logout",o,_,s,a,g,m,d,p=i[1].text+"",j,E,M;return{c(){e=k("div"),l=L("Current User: "),r=L(t),n=w(),u=k("button"),u.textContent=f,o=w(),_=k("form"),s=k("input"),a=w(),g=k("input"),m=w(),d=k("p"),j=L(p),this.h()},l(c){e=U(c,"DIV",{});var v=S(e);l=$(v,"Current User: "),r=$(v,t),v.forEach(h),n=x(c),u=U(c,"BUTTON",{"data-svelte-h":!0}),F(u)!=="svelte-pm79qf"&&(u.textContent=f),o=x(c),_=U(c,"FORM",{});var N=S(_);s=U(N,"INPUT",{type:!0}),a=x(N),g=U(N,"INPUT",{type:!0}),N.forEach(h),m=x(c),d=U(c,"P",{});var O=S(d);j=$(O,p),O.forEach(h),this.h()},h(){b(s,"type","text"),b(g,"type","submit"),g.value="Save!"},m(c,v){C(c,e,v),y(e,l),y(e,r),C(c,n,v),C(c,u,v),C(c,o,v),C(c,_,v),y(_,s),P(s,i[2]),y(_,a),y(_,g),C(c,m,v),C(c,d,v),y(d,j),E||(M=[T(u,"click",K.logout),T(s,"input",i[5]),T(_,"submit",i[6])],E=!0)},p(c,v){v&1&&t!==(t=c[0].email+"")&&V(r,t),v&4&&s.value!==c[2]&&P(s,c[2]),v&2&&p!==(p=c[1].text+"")&&V(j,p)},i:I,o:I,d(c){c&&(h(e),h(n),h(u),h(o),h(_),h(m),h(d)),E=!1,G(M)}}}function pe(i){let e,l,t,r,n,u;const f=[fe,ce,oe],o=[];function _(s,a){return s[3].currentUser?0:s[3].isLoading?1:2}return t=_(i),r=o[t]=f[t](i),{c(){e=k("div"),l=w(),r.c(),n=R()},l(s){e=U(s,"DIV",{}),S(e).forEach(h),l=x(s),r.l(s),n=R()},m(s,a){C(s,e,a),C(s,l,a),o[t].m(s,a),C(s,n,a),u=!0},p(s,[a]){let g=t;t=_(s),t===g?o[t].p(s,a):(Y(),D(o[g],1,1,()=>{o[g]=null}),X(),r=o[t],r?r.p(s,a):(r=o[t]=f[t](s),r.c()),A(r,1),r.m(n.parentNode,n))},i(s){u||(A(r),u=!0)},o(s){D(r),u=!1},d(s){s&&(h(e),h(l),h(n)),o[t].d(s)}}}function _e(i,e,l){let t;W(i,q,a=>l(3,t=a));let r,n,u="";async function f(){if(t.currentUser)try{const a=le(re,"users",t.currentUser.uid);await ne(a,n,{merge:!0}),console.log("Save successful!")}catch(a){console.log("There was an error saving data!",a)}}function o(a){q.update(g=>({...g,data:a})),f()}q.subscribe(a=>{a.currentUser&&l(0,r=a.currentUser),a.data&&l(1,n=a.data)});function _(){u=this.value,l(2,u)}return[r,n,u,t,o,_,()=>{o({text:u})}]}class ve extends H{constructor(e){super(),J(this,e,_e,pe,z,{})}}export{ve as component};
