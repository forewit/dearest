import{s as j,r as se,f as V,n as z,c as ne}from"../chunks/scheduler.35f0b4e5.js";import{S as A,i as B,g as m,s as T,h as p,j as D,f as _,c as L,B as M,k as d,a as y,y as h,D as S,C as U,d as E,p as X,t as I,b as Y,E as K,e as Q,x as ie,z as F,A as O,r as Z,u as ee,v as te,w as re}from"../chunks/index.57cd87e4.js";import{f as k}from"../chunks/index.50a917e9.js";import{e as ae,b as le}from"../chunks/authStore.83e3c9ce.js";import{g as oe}from"../chunks/Auth.svelte_svelte_type_style_lang.55b95cbd.js";function W(o){let e,t="Failed to login!",r,i;return{c(){e=m("p"),e.textContent=t,this.h()},l(s){e=p(s,"P",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1g3skzd"&&(e.textContent=t),this.h()},h(){d(e,"class","error svelte-1gmguaq")},m(s,n){y(s,e,n),i=!0},i(s){i||(s&&V(()=>{i&&(r||(r=K(e,k,{duration:150},!0)),r.run(1))}),i=!0)},o(s){s&&(r||(r=K(e,k,{duration:150},!1)),r.run(0)),i=!1},d(s){s&&_(e),s&&r&&r.end()}}}function ue(o){let e,t,r,i,s,n,a,q='<div class="svelte-1gmguaq"></div>',l,u,v,x,$,R='<div class="svelte-1gmguaq"></div>',N,w,b,G='<div class="login-logo svelte-1gmguaq"></div>',P,J,c=o[2]&&W();return{c(){e=m("form"),t=m("div"),r=T(),i=m("div"),s=m("input"),n=T(),a=m("div"),a.innerHTML=q,l=T(),u=m("div"),v=m("input"),x=T(),$=m("div"),$.innerHTML=R,N=T(),c&&c.c(),w=T(),b=m("button"),b.innerHTML=G,this.h()},l(g){e=p(g,"FORM",{class:!0});var f=D(e);t=p(f,"DIV",{class:!0}),D(t).forEach(_),r=L(f),i=p(f,"DIV",{class:!0});var C=D(i);s=p(C,"INPUT",{class:!0,type:!0}),n=L(C),a=p(C,"DIV",{class:!0,"data-svelte-h":!0}),M(a)!=="svelte-1jz8sp1"&&(a.innerHTML=q),C.forEach(_),l=L(f),u=p(f,"DIV",{class:!0});var H=D(u);v=p(H,"INPUT",{class:!0,type:!0}),x=L(H),$=p(H,"DIV",{class:!0,"data-svelte-h":!0}),M($)!=="svelte-1wb48a2"&&($.innerHTML=R),H.forEach(_),N=L(f),c&&c.l(f),w=L(f),b=p(f,"BUTTON",{class:!0,"data-svelte-h":!0}),M(b)!=="svelte-1rbrzli"&&(b.innerHTML=G),f.forEach(_),this.h()},h(){d(t,"class","heart-logo svelte-1gmguaq"),d(s,"class","email input svelte-1gmguaq"),d(s,"type","email"),s.required=!0,d(a,"class","email-logo svelte-1gmguaq"),d(i,"class","email svelte-1gmguaq"),d(v,"class","input svelte-1gmguaq"),d(v,"type","password"),v.required=!0,d($,"class","password-logo svelte-1gmguaq"),d(u,"class","password svelte-1gmguaq"),d(b,"class","button login svelte-1gmguaq"),d(e,"class","container svelte-1gmguaq")},m(g,f){y(g,e,f),h(e,t),h(e,r),h(e,i),h(i,s),S(s,o[0]),h(i,n),h(i,a),h(e,l),h(e,u),h(u,v),S(v,o[1]),h(u,x),h(u,$),h(e,N),c&&c.m(e,null),h(e,w),h(e,b),P||(J=[U(s,"input",o[5]),U(v,"input",o[6]),U(b,"click",o[3])],P=!0)},p(g,[f]){f&1&&s.value!==g[0]&&S(s,g[0]),f&2&&v.value!==g[1]&&S(v,g[1]),g[2]?c?f&4&&E(c,1):(c=W(),c.c(),E(c,1),c.m(e,w)):c&&(X(),I(c,1,1,()=>{c=null}),Y())},i(g){E(c)},o(g){I(c)},d(g){g&&_(e),c&&c.d(),P=!1,se(J)}}}function ce(o,e,t){let{redirect:r=""}=e,i="",s="",n=!1;async function a(){try{t(2,n=!1),await ae.login(i,s),r&&oe(r)}catch{console.log("Login failed!"),t(2,n=!0)}}function q(){i=this.value,t(0,i)}function l(){s=this.value,t(1,s)}return o.$$set=u=>{"redirect"in u&&t(4,r=u.redirect)},[i,s,n,a,r,q,l]}class fe extends A{constructor(e){super(),B(this,e,ce,ue,j,{redirect:4})}}function de(o){let e;return{c(){e=m("span"),this.h()},l(t){e=p(t,"SPAN",{class:!0}),D(e).forEach(_),this.h()},h(){d(e,"class","loader svelte-13vkuh3")},m(t,r){y(t,e,r)},p:z,i:z,o:z,d(t){t&&_(e)}}}class _e extends A{constructor(e){super(),B(this,e,null,de,j,{})}}function ve(o){let e,t='<a href="/energy"><h2>Energy</h2></a>',r,i,s;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(n){e=p(n,"DIV",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-1ptnhr0"&&(e.innerHTML=t),this.h()},h(){d(e,"class","center")},m(n,a){y(n,e,a),s=!0},i(n){s||(n&&V(()=>{s&&(i&&i.end(1),r=F(e,k,{duration:300,delay:300}),r.start())}),s=!0)},o(n){r&&r.invalidate(),n&&(i=O(e,k,{duration:300})),s=!1},d(n){n&&_(e),n&&i&&i.end()}}}function he(o){let e,t,r,i,s;return t=new fe({props:{redirect:"/energy"}}),{c(){e=m("div"),Z(t.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var a=D(e);ee(t.$$.fragment,a),a.forEach(_),this.h()},h(){d(e,"class","auth-container center svelte-1jn80n")},m(n,a){y(n,e,a),te(t,e,null),s=!0},i(n){s||(E(t.$$.fragment,n),n&&V(()=>{s&&(i&&i.end(1),r=F(e,k,{duration:300,delay:300}),r.start())}),s=!0)},o(n){I(t.$$.fragment,n),r&&r.invalidate(),n&&(i=O(e,k,{duration:300})),s=!1},d(n){n&&_(e),re(t),n&&i&&i.end()}}}function me(o){let e,t,r,i,s;return t=new _e({}),{c(){e=m("div"),Z(t.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var a=D(e);ee(t.$$.fragment,a),a.forEach(_),this.h()},h(){d(e,"class","center")},m(n,a){y(n,e,a),te(t,e,null),s=!0},i(n){s||(E(t.$$.fragment,n),n&&V(()=>{s&&(i&&i.end(1),r=F(e,k,{duration:300,delay:300}),r.start())}),s=!0)},o(n){I(t.$$.fragment,n),r&&r.invalidate(),n&&(i=O(e,k,{duration:300})),s=!1},d(n){n&&_(e),re(t),n&&i&&i.end()}}}function pe(o){let e,t,r,i,s;const n=[me,he,ve],a=[];function q(l,u){return l[0].isLoading?0:l[0].currentUser?2:1}return t=q(o),r=a[t]=n[t](o),{c(){e=T(),r.c(),i=Q(),this.h()},l(l){ie("svelte-14t3t7r",document.head).forEach(_),e=L(l),r.l(l),i=Q(),this.h()},h(){document.title="My Dearest"},m(l,u){y(l,e,u),a[t].m(l,u),y(l,i,u),s=!0},p(l,[u]){let v=t;t=q(l),t!==v&&(X(),I(a[v],1,1,()=>{a[v]=null}),Y(),r=a[t],r||(r=a[t]=n[t](l),r.c()),E(r,1),r.m(i.parentNode,i))},i(l){s||(E(r),s=!0)},o(l){I(r),s=!1},d(l){l&&(_(e),_(i)),a[t].d(l)}}}function ge(o,e,t){let r;return ne(o,le,i=>t(0,r=i)),[r]}class Te extends A{constructor(e){super(),B(this,e,ge,pe,j,{})}}export{Te as component};
