import{s as L,n as O,c as M,r as z}from"../chunks/scheduler.35f0b4e5.js";import{S as A,i as G,g as v,s as C,e as R,h,j as E,f as u,c as S,a as m,m as P,n as g,B as J,k as V,y as U,D as j,C as w,o as F}from"../chunks/index.57cd87e4.js";import{b as q,e as K,d as Q,c as W,s as X}from"../chunks/authStore.f65cf4eb.js";import{a as Y}from"../chunks/navigation.f818161b.js";/* empty css                                                   *//* empty css                                                       */function H(f){let l,o,r=f[0].email+"",e,t,a,T="Logout",_,p,c,i,d,k,b,y=f[1].text+"",D,I,x;return{c(){l=v("div"),o=P("Current User: "),e=P(r),t=C(),a=v("button"),a.textContent=T,_=C(),p=v("form"),c=v("input"),i=C(),d=v("input"),k=C(),b=v("p"),D=P(y),this.h()},l(s){l=h(s,"DIV",{});var n=E(l);o=g(n,"Current User: "),e=g(n,r),n.forEach(u),t=S(s),a=h(s,"BUTTON",{"data-svelte-h":!0}),J(a)!=="svelte-pm79qf"&&(a.textContent=T),_=S(s),p=h(s,"FORM",{});var N=E(p);c=h(N,"INPUT",{type:!0}),i=S(N),d=h(N,"INPUT",{type:!0}),N.forEach(u),k=S(s),b=h(s,"P",{});var B=E(b);D=g(B,y),B.forEach(u),this.h()},h(){V(c,"type","text"),V(d,"type","submit"),d.value="Save!"},m(s,n){m(s,l,n),U(l,o),U(l,e),m(s,t,n),m(s,a,n),m(s,_,n),m(s,p,n),U(p,c),j(c,f[2]),U(p,i),U(p,d),m(s,k,n),m(s,b,n),U(b,D),I||(x=[w(a,"click",K.logout),w(c,"input",f[5]),w(p,"submit",f[6])],I=!0)},p(s,n){n&1&&r!==(r=s[0].email+"")&&F(e,r),n&4&&c.value!==s[2]&&j(c,s[2]),n&2&&y!==(y=s[1].text+"")&&F(D,y)},d(s){s&&(u(l),u(t),u(a),u(_),u(p),u(k),u(b)),I=!1,z(x)}}}function Z(f){let l,o,r,e=f[3].currentUser&&H(f);return{c(){l=v("div"),o=C(),e&&e.c(),r=R()},l(t){l=h(t,"DIV",{}),E(l).forEach(u),o=S(t),e&&e.l(t),r=R()},m(t,a){m(t,l,a),m(t,o,a),e&&e.m(t,a),m(t,r,a)},p(t,[a]){t[3].currentUser?e?e.p(t,a):(e=H(t),e.c(),e.m(r.parentNode,r)):e&&(e.d(1),e=null)},i:O,o:O,d(t){t&&(u(l),u(o),u(r)),e&&e.d(t)}}}function $(f,l,o){let r;M(f,q,i=>o(3,r=i));let e,t,a="";async function T(){if(r.currentUser)try{const i=Q(W,"users",r.currentUser.uid);await X(i,t,{merge:!0}),console.log("Save successful!")}catch(i){console.log("There was an error saving data!",i)}}function _(i){q.update(d=>({...d,data:i})),T()}q.subscribe(i=>{i.currentUser&&o(0,e=i.currentUser),i.data&&o(1,t=i.data)}),Y(()=>{console.log("after navigate")});function p(){a=this.value,o(2,a)}return[e,t,a,r,_,p,()=>{_({text:a})}]}class ie extends A{constructor(l){super(),G(this,l,$,Z,L,{})}}export{ie as component};
