import{s as q,r as se,f as V,n as z,c as ie}from"../chunks/scheduler.35f0b4e5.js";import{S as A,i as B,g as h,s as T,h as m,j as D,f as _,c as L,B as w,k as d,a as b,y as v,D as S,C as U,d as I,p as X,t as M,b as Y,E as K,e as Q,x as ne,z as F,A as O,r as Z,u as ee,v as te,w as re}from"../chunks/index.57cd87e4.js";import{f as y}from"../chunks/index.50a917e9.js";import{e as le,b as ae}from"../chunks/authStore.787862a1.js";import{g as oe}from"../chunks/navigation.001fba82.js";/* empty css                                                   */function W(o){let e,t="Failed to login!",r,n;return{c(){e=h("p"),e.textContent=t,this.h()},l(s){e=m(s,"P",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-1g3skzd"&&(e.textContent=t),this.h()},h(){d(e,"class","error svelte-1omjpke")},m(s,i){b(s,e,i),n=!0},i(s){n||(s&&V(()=>{n&&(r||(r=K(e,y,{duration:150},!0)),r.run(1))}),n=!0)},o(s){s&&(r||(r=K(e,y,{duration:150},!1)),r.run(0)),n=!1},d(s){s&&_(e),s&&r&&r.end()}}}function ue(o){let e,t,r,n,s,i,l,j='<div class="svelte-1omjpke"></div>',a,u,p,x,$,R='<div class="svelte-1omjpke"></div>',N,C,g,G='<div class="login-logo svelte-1omjpke"></div>',P,J,c=o[2]&&W();return{c(){e=h("form"),t=h("div"),r=T(),n=h("div"),s=h("input"),i=T(),l=h("div"),l.innerHTML=j,a=T(),u=h("div"),p=h("input"),x=T(),$=h("div"),$.innerHTML=R,N=T(),c&&c.c(),C=T(),g=h("button"),g.innerHTML=G,this.h()},l(k){e=m(k,"FORM",{class:!0});var f=D(e);t=m(f,"DIV",{class:!0}),D(t).forEach(_),r=L(f),n=m(f,"DIV",{class:!0});var E=D(n);s=m(E,"INPUT",{class:!0,type:!0}),i=L(E),l=m(E,"DIV",{class:!0,"data-svelte-h":!0}),w(l)!=="svelte-1jz8sp1"&&(l.innerHTML=j),E.forEach(_),a=L(f),u=m(f,"DIV",{class:!0});var H=D(u);p=m(H,"INPUT",{class:!0,type:!0}),x=L(H),$=m(H,"DIV",{class:!0,"data-svelte-h":!0}),w($)!=="svelte-1wb48a2"&&($.innerHTML=R),H.forEach(_),N=L(f),c&&c.l(f),C=L(f),g=m(f,"BUTTON",{class:!0,"data-svelte-h":!0}),w(g)!=="svelte-1rbrzli"&&(g.innerHTML=G),f.forEach(_),this.h()},h(){d(t,"class","heart-logo svelte-1omjpke"),d(s,"class","email input svelte-1omjpke"),d(s,"type","email"),s.required=!0,d(l,"class","email-logo svelte-1omjpke"),d(n,"class","email svelte-1omjpke"),d(p,"class","input svelte-1omjpke"),d(p,"type","password"),p.required=!0,d($,"class","password-logo svelte-1omjpke"),d(u,"class","password svelte-1omjpke"),d(g,"class","button login svelte-1omjpke"),d(e,"class","container svelte-1omjpke")},m(k,f){b(k,e,f),v(e,t),v(e,r),v(e,n),v(n,s),S(s,o[0]),v(n,i),v(n,l),v(e,a),v(e,u),v(u,p),S(p,o[1]),v(u,x),v(u,$),v(e,N),c&&c.m(e,null),v(e,C),v(e,g),P||(J=[U(s,"input",o[5]),U(p,"input",o[6]),U(g,"click",o[3])],P=!0)},p(k,[f]){f&1&&s.value!==k[0]&&S(s,k[0]),f&2&&p.value!==k[1]&&S(p,k[1]),k[2]?c?f&4&&I(c,1):(c=W(),c.c(),I(c,1),c.m(e,C)):c&&(X(),M(c,1,1,()=>{c=null}),Y())},i(k){I(c)},o(k){M(c)},d(k){k&&_(e),c&&c.d(),P=!1,se(J)}}}function ce(o,e,t){let{redirect:r=""}=e,n="",s="",i=!1;async function l(){try{t(2,i=!1),await le.login(n,s),r&&setTimeout(()=>{oe(r)},0)}catch{console.log("Login failed!"),t(2,i=!0)}}function j(){n=this.value,t(0,n)}function a(){s=this.value,t(1,s)}return o.$$set=u=>{"redirect"in u&&t(4,r=u.redirect)},[n,s,i,l,r,j,a]}class fe extends A{constructor(e){super(),B(this,e,ce,ue,q,{redirect:4})}}function de(o){let e;return{c(){e=h("span"),this.h()},l(t){e=m(t,"SPAN",{class:!0}),D(e).forEach(_),this.h()},h(){d(e,"class","loader svelte-13vkuh3")},m(t,r){b(t,e,r)},p:z,i:z,o:z,d(t){t&&_(e)}}}class _e extends A{constructor(e){super(),B(this,e,null,de,q,{})}}function pe(o){let e,t='<a href="/energy"><h2>Start</h2></a>',r,n,s;return{c(){e=h("div"),e.innerHTML=t,this.h()},l(i){e=m(i,"DIV",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-1hjiryg"&&(e.innerHTML=t),this.h()},h(){d(e,"class","center")},m(i,l){b(i,e,l),s=!0},i(i){s||(i&&V(()=>{s&&(n&&n.end(1),r=F(e,y,{duration:300,delay:300}),r.start())}),s=!0)},o(i){r&&r.invalidate(),i&&(n=O(e,y,{duration:300})),s=!1},d(i){i&&_(e),i&&n&&n.end()}}}function ve(o){let e,t,r,n,s;return t=new fe({props:{redirect:"/energy"}}),{c(){e=h("div"),Z(t.$$.fragment),this.h()},l(i){e=m(i,"DIV",{class:!0});var l=D(e);ee(t.$$.fragment,l),l.forEach(_),this.h()},h(){d(e,"class","auth-container center svelte-1jn80n")},m(i,l){b(i,e,l),te(t,e,null),s=!0},i(i){s||(I(t.$$.fragment,i),i&&V(()=>{s&&(n&&n.end(1),r=F(e,y,{duration:300,delay:300}),r.start())}),s=!0)},o(i){M(t.$$.fragment,i),r&&r.invalidate(),i&&(n=O(e,y,{duration:300})),s=!1},d(i){i&&_(e),re(t),i&&n&&n.end()}}}function he(o){let e,t,r,n,s;return t=new _e({}),{c(){e=h("div"),Z(t.$$.fragment),this.h()},l(i){e=m(i,"DIV",{class:!0});var l=D(e);ee(t.$$.fragment,l),l.forEach(_),this.h()},h(){d(e,"class","center")},m(i,l){b(i,e,l),te(t,e,null),s=!0},i(i){s||(I(t.$$.fragment,i),i&&V(()=>{s&&(n&&n.end(1),r=F(e,y,{duration:300,delay:300}),r.start())}),s=!0)},o(i){M(t.$$.fragment,i),r&&r.invalidate(),i&&(n=O(e,y,{duration:300})),s=!1},d(i){i&&_(e),re(t),i&&n&&n.end()}}}function me(o){let e,t,r,n,s;const i=[he,ve,pe],l=[];function j(a,u){return a[0].isLoading?0:a[0].currentUser?2:1}return t=j(o),r=l[t]=i[t](o),{c(){e=T(),r.c(),n=Q(),this.h()},l(a){ne("svelte-14t3t7r",document.head).forEach(_),e=L(a),r.l(a),n=Q(),this.h()},h(){document.title="My Dearest"},m(a,u){b(a,e,u),l[t].m(a,u),b(a,n,u),s=!0},p(a,[u]){let p=t;t=j(a),t!==p&&(X(),M(l[p],1,1,()=>{l[p]=null}),Y(),r=l[t],r||(r=l[t]=i[t](a),r.c()),I(r,1),r.m(n.parentNode,n))},i(a){s||(I(r),s=!0)},o(a){M(r),s=!1},d(a){a&&(_(e),_(n)),l[t].d(a)}}}function ke(o,e,t){let r;return ie(o,ae,n=>t(0,r=n)),[r]}class Le extends A{constructor(e){super(),B(this,e,ke,me,q,{})}}export{Le as component};
