import{s as Q,c as A,o as $,d as ee,u as te,g as ne,e as se,f as W,n as B}from"../chunks/scheduler.35f0b4e5.js";import{S as oe,i as ae,g as v,s as D,x as ie,h as g,f as p,c as w,j as C,k as b,l as k,y as L,a as S,t as M,b as R,d as T,z as X,A as Y,B as I,C as N,p as z}from"../chunks/index.57cd87e4.js";import{a as le,b as U,d as q,c as F,g as re,s as ue,e as ce}from"../chunks/authStore.081bb4a4.js";import{f as H}from"../chunks/index.50a917e9.js";import{g as E}from"../chunks/navigation.d72cda3e.js";import{p as fe}from"../chunks/stores.a3f9c6be.js";function de({url:a}){return{url:a.pathname}}const _e=!0,Te=Object.freeze(Object.defineProperty({__proto__:null,load:de,prerender:_e},Symbol.toStringTag,{value:"Module"}));function P(a){let e,i,t,n;const d=a[12].default,l=ee(d,a,a[11],null);return{c(){e=v("div"),l&&l.c()},l(s){e=g(s,"DIV",{});var r=C(e);l&&l.l(r),r.forEach(p)},m(s,r){S(s,e,r),l&&l.m(e,null),n=!0},p(s,r){l&&l.p&&(!n||r&2048)&&te(l,d,s,s[11],n?se(d,s[11],r,null):ne(s[11]),null)},i(s){n||(T(l,s),s&&W(()=>{n&&(t&&t.end(1),i=X(e,H,{duration:300,delay:300}),i.start())}),n=!0)},o(s){M(l,s),i&&i.invalidate(),s&&(t=Y(e,H,{duration:300})),n=!1},d(s){s&&p(e),l&&l.d(s),s&&t&&t.end()}}}function G(a){let e,i,t,n,d='<div class="logout-logo svelte-eyigmv"></div>',l,s,r,u,f,o=a[4]<a[6].length-1&&J(a),_=a[4]>0&&K(a);return{c(){e=v("div"),o&&o.c(),i=D(),_&&_.c(),t=D(),n=v("button"),n.innerHTML=d,this.h()},l(c){e=g(c,"DIV",{});var h=C(e);o&&o.l(h),i=w(h),_&&_.l(h),t=w(h),n=g(h,"BUTTON",{class:!0,"data-svelte-h":!0}),I(n)!=="svelte-g8kken"&&(n.innerHTML=d),h.forEach(p),this.h()},h(){b(n,"class","logout-btn button svelte-eyigmv")},m(c,h){S(c,e,h),o&&o.m(e,null),L(e,i),_&&_.m(e,null),L(e,t),L(e,n),r=!0,u||(f=N(n,"click",a[9]),u=!0)},p(c,h){c[4]<c[6].length-1?o?o.p(c,h):(o=J(c),o.c(),o.m(e,i)):o&&(o.d(1),o=null),c[4]>0?_?_.p(c,h):(_=K(c),_.c(),_.m(e,t)):_&&(_.d(1),_=null)},i(c){r||(c&&W(()=>{r&&(s&&s.end(1),l=X(e,H,{duration:300}),l.start())}),r=!0)},o(c){l&&l.invalidate(),c&&(s=Y(e,H,{duration:300})),r=!1},d(c){c&&p(e),o&&o.d(),_&&_.d(),c&&s&&s.end(),u=!1,f()}}}function J(a){let e,i='<div class="next-logo svelte-eyigmv"></div>',t,n;return{c(){e=v("button"),e.innerHTML=i,this.h()},l(d){e=g(d,"BUTTON",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-14uo1lk"&&(e.innerHTML=i),this.h()},h(){b(e,"class","next-btn button svelte-eyigmv")},m(d,l){S(d,e,l),t||(n=N(e,"click",a[7]),t=!0)},p:B,d(d){d&&p(e),t=!1,n()}}}function K(a){let e,i='<div class="back-logo svelte-eyigmv"></div>',t,n;return{c(){e=v("button"),e.innerHTML=i,this.h()},l(d){e=g(d,"BUTTON",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-bkc2xy"&&(e.innerHTML=i),this.h()},h(){b(e,"class","back-btn button svelte-eyigmv")},m(d,l){S(d,e,l),t||(n=N(e,"click",a[8]),t=!0)},p:B,d(d){d&&p(e),t=!1,n()}}}function he(a){let e,i,t,n,d=a[0].url,l,s,r=P(a),u=a[5].currentUser&&G(a);return{c(){e=v("meta"),i=D(),t=v("div"),n=v("div"),r.c(),l=D(),u&&u.c(),this.h()},l(f){const o=ie("svelte-1xk05yi",document.head);e=g(o,"META",{name:!0,content:!0}),o.forEach(p),i=w(f),t=g(f,"DIV",{class:!0,style:!0});var _=C(t);n=g(_,"DIV",{class:!0});var c=C(n);r.l(c),l=w(c),u&&u.l(c),c.forEach(p),_.forEach(p),this.h()},h(){b(e,"name","viewport"),b(e,"content","width=device-width, user-scalable=0, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover"),b(n,"class","content svelte-eyigmv"),b(t,"class","container svelte-eyigmv"),k(t,"--notch-left",a[1]),k(t,"--notch-right",a[2]),k(t,"--notch-top",a[3])},m(f,o){L(document.head,e),S(f,i,o),S(f,t,o),L(t,n),r.m(n,null),L(n,l),u&&u.m(n,null),s=!0},p(f,[o]){o&1&&Q(d,d=f[0].url)?(z(),M(r,1,1,B),R(),r=P(f),r.c(),T(r,1),r.m(n,l)):r.p(f,o),f[5].currentUser?u?(u.p(f,o),o&32&&T(u,1)):(u=G(f),u.c(),T(u,1),u.m(n,null)):u&&(z(),M(u,1,1,()=>{u=null}),R()),(!s||o&2)&&k(t,"--notch-left",f[1]),(!s||o&4)&&k(t,"--notch-right",f[2]),(!s||o&8)&&k(t,"--notch-top",f[3])},i(f){s||(T(r),T(u),s=!0)},o(f){M(r),M(u),s=!1},d(f){f&&(p(i),p(t)),p(e),r.d(f),u&&u.d()}}}function me(a,e,i){let t,n,d;A(a,fe,m=>i(10,n=m)),A(a,U,m=>i(5,d=m));let{$$slots:l={},$$scope:s}=e,{data:r}=e,u=["/","/energy","/warmth","/success"];function f(){setTimeout(()=>E(u[t+1]),0)}function o(){setTimeout(()=>E(u[t-1]),0)}let _=0,c=0,h=0;function V(){i(1,_=screen.orientation.type=="landscape-primary"?1:0),i(2,c=screen.orientation.type=="landscape-secondary"?1:0),i(3,h=screen.orientation.type=="portrait-primary"?1:0)}$(()=>{screen.orientation.onchange=V,V(),le.onAuthStateChanged(async m=>{if(!m){U.update(y=>({...y,isLoading:!1,currentUser:m}));return}const x=q(F,"users",m.uid),j=await re(x);let O={text:""};if(j.exists())console.log("Fetching firestore user doc..."),O=j.data();else{console.log("Creating firestore user doc...");const y=q(F,"users",m.uid);await ue(y,O,{merge:!0})}U.update(y=>({...y,isLoading:!1,currentUser:m,data:O}))})});function Z(){ce.logout(),setTimeout(()=>E("/"),0)}return a.$$set=m=>{"data"in m&&i(0,r=m.data),"$$scope"in m&&i(11,s=m.$$scope)},a.$$.update=()=>{a.$$.dirty&1024&&i(4,t=u.indexOf(n.url.pathname))},[r,_,c,h,t,d,u,f,o,Z,n,s,l]}class Le extends oe{constructor(e){super(),ae(this,e,me,he,Q,{data:0})}}export{Le as component,Te as universal};
