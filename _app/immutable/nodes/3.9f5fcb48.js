import{s as j,h as R,n as P,r as Z,f as ae}from"../chunks/scheduler.85ef5b45.js";import{S as B,i as G,g as b,s as I,h as y,j as E,c as k,f as p,k as h,a as $,y as g,C as q,D,B as ee,E as ie,e as J,t as L,b as ue,d as M,p as oe,r as te,u as se,v as le,w as ne,m as A,n as F,o as K}from"../chunks/index.d71c8fed.js";import{e as re,b as O,d as ce,c as fe,s as pe}from"../chunks/authStore.37cf8a2a.js";import{j as me}from"../chunks/singletons.1543fb3b.js";function Q(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function W(i){let e,s="Failed to login!";return{c(){e=b("p"),e.textContent=s,this.h()},l(l){e=y(l,"P",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-13uo4rd"&&(e.textContent=s),this.h()},h(){h(e,"class","error svelte-76w8fm")},m(l,n){$(l,e,n)},d(l){l&&p(e)}}}function he(i){let e,s,l,n,t,r,o,a,m,u,f,U,d=i[2]&&W();return{c(){e=b("form"),s=b("img"),n=I(),t=b("input"),r=I(),o=b("input"),a=I(),d&&d.c(),m=I(),u=b("input"),this.h()},l(v){e=y(v,"FORM",{class:!0});var _=E(e);s=y(_,"IMG",{class:!0,src:!0,alt:!0}),n=k(_),t=y(_,"INPUT",{class:!0,type:!0,placeholder:!0}),r=k(_),o=y(_,"INPUT",{class:!0,type:!0,placeholder:!0}),a=k(_),d&&d.l(_),m=k(_),u=y(_,"INPUT",{type:!0,class:!0}),_.forEach(p),this.h()},h(){h(s,"class","logo svelte-76w8fm"),R(s.src,l="./images/pen.svg")||h(s,"src",l),h(s,"alt","logo"),h(t,"class","email neu-inset svelte-76w8fm"),h(t,"type","email"),h(t,"placeholder","Email"),t.required=!0,h(o,"class","password neu-inset svelte-76w8fm"),h(o,"type","password"),h(o,"placeholder","Password"),o.required=!0,h(u,"type","submit"),u.value="Login",h(u,"class","btn svelte-76w8fm"),h(e,"class","container svelte-76w8fm")},m(v,_){$(v,e,_),g(e,s),g(e,n),g(e,t),q(t,i[0]),g(e,r),g(e,o),q(o,i[1]),g(e,a),d&&d.m(e,null),g(e,m),g(e,u),f||(U=[D(t,"input",i[4]),D(o,"input",i[5]),D(e,"submit",i[3])],f=!0)},p(v,[_]){_&1&&t.value!==v[0]&&q(t,v[0]),_&2&&o.value!==v[1]&&q(o,v[1]),v[2]?d||(d=W(),d.c(),d.m(e,m)):d&&(d.d(1),d=null)},i:P,o:P,d(v){v&&p(e),d&&d.d(),f=!1,Z(U)}}}function _e(i,e,s){let l="",n="",t=!1;async function r(){try{s(2,t=!1),await re.login(l,n)}catch{console.log("Login failed!"),s(2,t=!0)}}function o(){l=this.value,s(0,l)}function a(){n=this.value,s(1,n)}return[l,n,t,r,o,a]}class de extends B{constructor(e){super(),G(this,e,_e,he,j,{})}}const ve=me("after_navigate");function X(i,e,s){const l=i.slice();return l[1]=e[s],l}function Y(i){let e,s,l,n;return{c(){e=b("div"),s=b("img"),n=I(),this.h()},l(t){e=y(t,"DIV",{class:!0});var r=E(e);s=y(r,"IMG",{src:!0,alt:!0,class:!0}),n=k(r),r.forEach(p),this.h()},h(){R(s.src,l=i[1])||h(s,"src",l),h(s,"alt",""),h(s,"class","svelte-1q93y6f"),h(e,"class","slot svelte-1q93y6f")},m(t,r){$(t,e,r),g(e,s),g(e,n)},p(t,r){r&1&&!R(s.src,l=t[1])&&h(s,"src",l)},d(t){t&&p(e)}}}function ge(i){let e,s,l,n=Q(i[0]),t=[];for(let r=0;r<n.length;r+=1)t[r]=Y(X(i,n,r));return{c(){e=b("div"),s=b("div"),l=I();for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=y(r,"DIV",{class:!0});var o=E(e);s=y(o,"DIV",{class:!0}),E(s).forEach(p),l=k(o);for(let a=0;a<t.length;a+=1)t[a].l(o);o.forEach(p),this.h()},h(){h(s,"class","handle svelte-1q93y6f"),h(e,"class","wrapper svelte-1q93y6f")},m(r,o){$(r,e,o),g(e,s),g(e,l);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(r,[o]){if(o&1){n=Q(r[0]);let a;for(a=0;a<n.length;a+=1){const m=X(r,n,a);t[a]?t[a].p(m,o):(t[a]=Y(m),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=n.length}},i:P,o:P,d(r){r&&p(e),ie(t,r)}}}function be(i,e,s){let{logos:l=[]}=e;return i.$$set=n=>{"logos"in n&&s(0,l=n.logos)},[l]}class ye extends B{constructor(e){super(),G(this,e,be,ge,j,{logos:0})}}function we(i){let e,s,l;return s=new de({}),{c(){e=b("div"),te(s.$$.fragment),this.h()},l(n){e=y(n,"DIV",{class:!0});var t=E(e);se(s.$$.fragment,t),t.forEach(p),this.h()},h(){h(e,"class","auth-container neu neu-animated-rise svelte-1exvbzu")},m(n,t){$(n,e,t),le(s,e,null),l=!0},p:P,i(n){l||(M(s.$$.fragment,n),l=!0)},o(n){L(s.$$.fragment,n),l=!1},d(n){n&&p(e),ne(s)}}}function $e(i){let e,s,l=i[0].email+"",n,t,r,o="Logout",a,m,u,f,U,d,v,_=i[1].text+"",T,N,C,S,x,z;return C=new ye({props:{logos:["./images/logo.svg","./images/logo.svg","./images/logo.svg"]}}),{c(){e=b("div"),s=A("Current User: "),n=A(l),t=I(),r=b("button"),r.textContent=o,a=I(),m=b("form"),u=b("input"),f=I(),U=b("input"),d=I(),v=b("p"),T=A(_),N=I(),te(C.$$.fragment),this.h()},l(c){e=y(c,"DIV",{});var w=E(e);s=F(w,"Current User: "),n=F(w,l),w.forEach(p),t=k(c),r=y(c,"BUTTON",{"data-svelte-h":!0}),ee(r)!=="svelte-pm79qf"&&(r.textContent=o),a=k(c),m=y(c,"FORM",{});var V=E(m);u=y(V,"INPUT",{type:!0}),f=k(V),U=y(V,"INPUT",{type:!0}),V.forEach(p),d=k(c),v=y(c,"P",{});var H=E(v);T=F(H,_),H.forEach(p),N=k(c),se(C.$$.fragment,c),this.h()},h(){h(u,"type","text"),h(U,"type","submit"),U.value="Save!"},m(c,w){$(c,e,w),g(e,s),g(e,n),$(c,t,w),$(c,r,w),$(c,a,w),$(c,m,w),g(m,u),q(u,i[2]),g(m,f),g(m,U),$(c,d,w),$(c,v,w),g(v,T),$(c,N,w),le(C,c,w),S=!0,x||(z=[D(r,"click",re.logout),D(u,"input",i[5]),D(m,"submit",i[6])],x=!0)},p(c,w){(!S||w&1)&&l!==(l=c[0].email+"")&&K(n,l),w&4&&u.value!==c[2]&&q(u,c[2]),(!S||w&2)&&_!==(_=c[1].text+"")&&K(T,_)},i(c){S||(M(C.$$.fragment,c),S=!0)},o(c){L(C.$$.fragment,c),S=!1},d(c){c&&(p(e),p(t),p(r),p(a),p(m),p(d),p(v),p(N)),ne(C,c),x=!1,Z(z)}}}function Ue(i){let e,s,l,n,t,r;const o=[$e,we],a=[];function m(u,f){return u[3].currentUser?0:1}return l=m(i),n=a[l]=o[l](i),{c(){e=b("div"),s=I(),n.c(),t=J()},l(u){e=y(u,"DIV",{}),E(e).forEach(p),s=k(u),n.l(u),t=J()},m(u,f){$(u,e,f),$(u,s,f),a[l].m(u,f),$(u,t,f),r=!0},p(u,[f]){let U=l;l=m(u),l===U?a[l].p(u,f):(oe(),L(a[U],1,1,()=>{a[U]=null}),ue(),n=a[l],n?n.p(u,f):(n=a[l]=o[l](u),n.c()),M(n,1),n.m(t.parentNode,t))},i(u){r||(M(n),r=!0)},o(u){L(n),r=!1},d(u){u&&(p(e),p(s),p(t)),a[l].d(u)}}}function Ie(i,e,s){let l;ae(i,O,f=>s(3,l=f));let n,t,r="";async function o(){if(l.currentUser)try{const f=ce(fe,"users",l.currentUser.uid);await pe(f,t,{merge:!0}),console.log("Save successful!")}catch(f){console.log("There was an error saving data!",f)}}function a(f){O.update(U=>({...U,data:f})),o()}O.subscribe(f=>{f.currentUser&&s(0,n=f.currentUser),f.data&&s(1,t=f.data)}),ve(()=>{console.log("after navigate")});function m(){r=this.value,s(2,r)}return[n,t,r,l,a,m,()=>{a({text:r})}]}class qe extends B{constructor(e){super(),G(this,e,Ie,Ue,j,{})}}export{qe as component};
