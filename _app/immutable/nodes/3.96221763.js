import{s as z,f as Q,n as T,r as G,e as W}from"../chunks/scheduler.63274e7e.js";import{S as H,i as J,g as k,s as w,h as y,j as $,c as P,f as g,k as v,a as U,y as b,A as I,B as S,z as M,e as B,t as A,b as X,d as F,p as Y,r as Z,u as ee,v as te,w as se,m as E,n as x,o as V}from"../chunks/index.a7311e4f.js";import{e as K,b as D,d as le,c as re,s as ne}from"../chunks/authStore.c96964db.js";function j(u){let e,s="Failed to login!";return{c(){e=k("p"),e.textContent=s,this.h()},l(t){e=y(t,"P",{class:!0,"data-svelte-h":!0}),M(e)!=="svelte-13uo4rd"&&(e.textContent=s),this.h()},h(){v(e,"class","error svelte-1irvgk")},m(t,n){U(t,e,n)},d(t){t&&g(e)}}}function ae(u){let e,s,t,n,a,r,c,l,i,p,_,C,m=u[2]&&j();return{c(){e=k("form"),s=k("img"),n=w(),a=k("input"),r=w(),c=k("input"),l=w(),m&&m.c(),i=w(),p=k("input"),this.h()},l(d){e=y(d,"FORM",{class:!0});var f=$(e);s=y(f,"IMG",{class:!0,src:!0,alt:!0}),n=P(f),a=y(f,"INPUT",{class:!0,type:!0,placeholder:!0}),r=P(f),c=y(f,"INPUT",{class:!0,type:!0,placeholder:!0}),l=P(f),m&&m.l(f),i=P(f),p=y(f,"INPUT",{type:!0,class:!0}),f.forEach(g),this.h()},h(){v(s,"class","logo svelte-1irvgk"),Q(s.src,t="./images/pen.svg")||v(s,"src",t),v(s,"alt","logo"),v(a,"class","email svelte-1irvgk"),v(a,"type","email"),v(a,"placeholder","Email"),a.required=!0,v(c,"class","password svelte-1irvgk"),v(c,"type","password"),v(c,"placeholder","Password"),c.required=!0,v(p,"type","submit"),p.value="Login",v(p,"class","btn svelte-1irvgk"),v(e,"class","container svelte-1irvgk")},m(d,f){U(d,e,f),b(e,s),b(e,n),b(e,a),I(a,u[0]),b(e,r),b(e,c),I(c,u[1]),b(e,l),m&&m.m(e,null),b(e,i),b(e,p),_||(C=[S(a,"input",u[4]),S(c,"input",u[5]),S(e,"submit",u[3])],_=!0)},p(d,[f]){f&1&&a.value!==d[0]&&I(a,d[0]),f&2&&c.value!==d[1]&&I(c,d[1]),d[2]?m||(m=j(),m.c(),m.m(e,i)):m&&(m.d(1),m=null)},i:T,o:T,d(d){d&&g(e),m&&m.d(),_=!1,G(C)}}}function ie(u,e,s){let t="",n="",a=!1;async function r(){try{s(2,a=!1),await K.login(t,n)}catch{console.log("Login failed!"),s(2,a=!0)}}function c(){t=this.value,s(0,t)}function l(){n=this.value,s(1,n)}return[t,n,a,r,c,l]}class ue extends H{constructor(e){super(),J(this,e,ie,ae,z,{})}}function oe(u){let e,s;return e=new ue({}),{c(){Z(e.$$.fragment)},l(t){ee(e.$$.fragment,t)},m(t,n){te(e,t,n),s=!0},p:T,i(t){s||(F(e.$$.fragment,t),s=!0)},o(t){A(e.$$.fragment,t),s=!1},d(t){se(e,t)}}}function ce(u){let e,s="Loading...";return{c(){e=k("div"),e.textContent=s},l(t){e=y(t,"DIV",{"data-svelte-h":!0}),M(e)!=="svelte-194gxkm"&&(e.textContent=s)},m(t,n){U(t,e,n)},p:T,i:T,o:T,d(t){t&&g(e)}}}function fe(u){let e,s,t=u[0].email+"",n,a,r,c="Logout",l,i,p,_,C,m,d,f=u[1].text+"",N,q,O;return{c(){e=k("div"),s=E("Current User: "),n=E(t),a=w(),r=k("button"),r.textContent=c,l=w(),i=k("form"),p=k("input"),_=w(),C=k("input"),m=w(),d=k("p"),N=E(f),this.h()},l(o){e=y(o,"DIV",{});var h=$(e);s=x(h,"Current User: "),n=x(h,t),h.forEach(g),a=P(o),r=y(o,"BUTTON",{"data-svelte-h":!0}),M(r)!=="svelte-pm79qf"&&(r.textContent=c),l=P(o),i=y(o,"FORM",{});var L=$(i);p=y(L,"INPUT",{type:!0}),_=P(L),C=y(L,"INPUT",{type:!0}),L.forEach(g),m=P(o),d=y(o,"P",{});var R=$(d);N=x(R,f),R.forEach(g),this.h()},h(){v(p,"type","text"),v(C,"type","submit"),C.value="Save!"},m(o,h){U(o,e,h),b(e,s),b(e,n),U(o,a,h),U(o,r,h),U(o,l,h),U(o,i,h),b(i,p),I(p,u[2]),b(i,_),b(i,C),U(o,m,h),U(o,d,h),b(d,N),q||(O=[S(r,"click",K.logout),S(p,"input",u[5]),S(i,"submit",u[6])],q=!0)},p(o,h){h&1&&t!==(t=o[0].email+"")&&V(n,t),h&4&&p.value!==o[2]&&I(p,o[2]),h&2&&f!==(f=o[1].text+"")&&V(N,f)},i:T,o:T,d(o){o&&(g(e),g(a),g(r),g(l),g(i),g(m),g(d)),q=!1,G(O)}}}function pe(u){let e,s,t,n;const a=[fe,ce,oe],r=[];function c(l,i){return l[3].currentUser?0:l[3].isLoading?1:2}return e=c(u),s=r[e]=a[e](u),{c(){s.c(),t=B()},l(l){s.l(l),t=B()},m(l,i){r[e].m(l,i),U(l,t,i),n=!0},p(l,[i]){let p=e;e=c(l),e===p?r[e].p(l,i):(Y(),A(r[p],1,1,()=>{r[p]=null}),X(),s=r[e],s?s.p(l,i):(s=r[e]=a[e](l),s.c()),F(s,1),s.m(t.parentNode,t))},i(l){n||(F(s),n=!0)},o(l){A(s),n=!1},d(l){l&&g(t),r[e].d(l)}}}function _e(u,e,s){let t;W(u,D,_=>s(3,t=_));let n,a,r="";async function c(){if(t.currentUser)try{const _=le(re,"users",t.currentUser.uid);await ne(_,a,{merge:!0}),console.log("Save successful!")}catch(_){console.log("There was an error saving data!",_)}}function l(_){D.update(C=>({...C,data:_})),c()}D.subscribe(_=>{_.currentUser&&s(0,n=_.currentUser),_.data&&s(1,a=_.data)});function i(){r=this.value,s(2,r)}return[n,a,r,t,l,i,()=>{l({text:r})}]}class ve extends H{constructor(e){super(),J(this,e,_e,pe,z,{})}}export{ve as component};
