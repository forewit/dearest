import{s as Y,c as P,o as $,d as ee,u as te,g as ne,e as oe,f as D,n as I}from"../chunks/scheduler.35f0b4e5.js";import{S as se,i as ie,g as T,s as S,x as re,h as y,f as m,c as M,j as E,k,l as z,y as N,a as b,t as v,b as w,d as h,z as H,A as O,B as A,C as R,p as C}from"../chunks/index.57cd87e4.js";import{a as ae,b as j,d as G,c as J,g as le,s as ue,e as fe}from"../chunks/authStore.787862a1.js";import{f as g}from"../chunks/index.50a917e9.js";import{g as B}from"../chunks/navigation.001fba82.js";import{p as ce}from"../chunks/stores.4babcf98.js";function de({url:f}){return{url:f.pathname}}const _e=!0,ye=Object.freeze(Object.defineProperty({__proto__:null,load:de,prerender:_e},Symbol.toStringTag,{value:"Module"}));function K(f){let e,c,n,i;const d=f[12].default,a=ee(d,f,f[11],null);return{c(){e=T("div"),a&&a.c()},l(s){e=y(s,"DIV",{});var t=E(e);a&&a.l(t),t.forEach(m)},m(s,t){b(s,e,t),a&&a.m(e,null),i=!0},p(s,t){a&&a.p&&(!i||t&2048)&&te(a,d,s,s[11],i?oe(d,s[11],t,null):ne(s[11]),null)},i(s){i||(h(a,s),s&&D(()=>{i&&(n&&n.end(1),c=H(e,g,{duration:300,delay:300}),c.start())}),i=!0)},o(s){v(a,s),c&&c.invalidate(),s&&(n=O(e,g,{duration:300})),i=!1},d(s){s&&m(e),a&&a.d(s),s&&n&&n.end()}}}function Q(f){let e,c,n,i='<div class="logout-logo svelte-170zorv"></div>',d,a,s,t,u,o=f[4]<f[6].length-1&&W(f),r=f[4]>0&&X(f);return{c(){o&&o.c(),e=S(),r&&r.c(),c=S(),n=T("button"),n.innerHTML=i,this.h()},l(l){o&&o.l(l),e=M(l),r&&r.l(l),c=M(l),n=y(l,"BUTTON",{class:!0,"data-svelte-h":!0}),A(n)!=="svelte-1den51y"&&(n.innerHTML=i),this.h()},h(){k(n,"class","logout-btn button svelte-170zorv")},m(l,_){o&&o.m(l,_),b(l,e,_),r&&r.m(l,_),b(l,c,_),b(l,n,_),s=!0,t||(u=R(n,"click",f[9]),t=!0)},p(l,_){l[4]<l[6].length-1?o?(o.p(l,_),_&16&&h(o,1)):(o=W(l),o.c(),h(o,1),o.m(e.parentNode,e)):o&&(C(),v(o,1,1,()=>{o=null}),w()),l[4]>0?r?(r.p(l,_),_&16&&h(r,1)):(r=X(l),r.c(),h(r,1),r.m(c.parentNode,c)):r&&(C(),v(r,1,1,()=>{r=null}),w())},i(l){s||(h(o),h(r),l&&D(()=>{s&&(a&&a.end(1),d=H(n,g,{duration:300}),d.start())}),s=!0)},o(l){v(o),v(r),d&&d.invalidate(),l&&(a=O(n,g,{duration:300})),s=!1},d(l){l&&(m(e),m(c),m(n)),o&&o.d(l),r&&r.d(l),l&&a&&a.end(),t=!1,u()}}}function W(f){let e,c='<div class="next-logo svelte-170zorv"></div>',n,i,d,a,s;return{c(){e=T("button"),e.innerHTML=c,this.h()},l(t){e=y(t,"BUTTON",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1j322ot"&&(e.innerHTML=c),this.h()},h(){k(e,"class","next-btn button svelte-170zorv")},m(t,u){b(t,e,u),d=!0,a||(s=R(e,"click",f[7]),a=!0)},p:I,i(t){d||(t&&D(()=>{d&&(i&&i.end(1),n=H(e,g,{duration:300}),n.start())}),d=!0)},o(t){n&&n.invalidate(),t&&(i=O(e,g,{duration:300})),d=!1},d(t){t&&m(e),t&&i&&i.end(),a=!1,s()}}}function X(f){let e,c='<div class="back-logo svelte-170zorv"></div>',n,i,d,a,s;return{c(){e=T("button"),e.innerHTML=c,this.h()},l(t){e=y(t,"BUTTON",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-jqxr8b"&&(e.innerHTML=c),this.h()},h(){k(e,"class","back-btn button svelte-170zorv")},m(t,u){b(t,e,u),d=!0,a||(s=R(e,"click",f[8]),a=!0)},p:I,i(t){d||(t&&D(()=>{d&&(i&&i.end(1),n=H(e,g,{duration:300}),n.start())}),d=!0)},o(t){n&&n.invalidate(),t&&(i=O(e,g,{duration:300})),d=!1},d(t){t&&m(e),t&&i&&i.end(),a=!1,s()}}}function pe(f){let e,c,n,i,d=f[0].url,a,s,t=K(f),u=f[5].currentUser&&Q(f);return{c(){e=T("meta"),c=S(),n=T("div"),i=T("div"),t.c(),a=S(),u&&u.c(),this.h()},l(o){const r=re("svelte-1xk05yi",document.head);e=y(r,"META",{name:!0,content:!0}),r.forEach(m),c=M(o),n=y(o,"DIV",{class:!0,style:!0});var l=E(n);i=y(l,"DIV",{class:!0});var _=E(i);t.l(_),a=M(_),u&&u.l(_),_.forEach(m),l.forEach(m),this.h()},h(){k(e,"name","viewport"),k(e,"content","width=device-width, user-scalable=0, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover"),k(i,"class","content svelte-170zorv"),k(n,"class","container svelte-170zorv"),z(n,"--notch-left",f[1]),z(n,"--notch-right",f[2]),z(n,"--notch-top",f[3])},m(o,r){N(document.head,e),b(o,c,r),b(o,n,r),N(n,i),t.m(i,null),N(i,a),u&&u.m(i,null),s=!0},p(o,[r]){r&1&&Y(d,d=o[0].url)?(C(),v(t,1,1,I),w(),t=K(o),t.c(),h(t,1),t.m(i,a)):t.p(o,r),o[5].currentUser?u?(u.p(o,r),r&32&&h(u,1)):(u=Q(o),u.c(),h(u,1),u.m(i,null)):u&&(C(),v(u,1,1,()=>{u=null}),w()),(!s||r&2)&&z(n,"--notch-left",o[1]),(!s||r&4)&&z(n,"--notch-right",o[2]),(!s||r&8)&&z(n,"--notch-top",o[3])},i(o){s||(h(t),h(u),s=!0)},o(o){v(t),v(u),s=!1},d(o){o&&(m(c),m(n)),m(e),t.d(o),u&&u.d()}}}function me(f,e,c){let n,i,d;P(f,ce,p=>c(10,i=p)),P(f,j,p=>c(5,d=p));let{$$slots:a={},$$scope:s}=e,{data:t}=e,u=["/","/energy","/warmth","/success"];function o(){setTimeout(()=>B(u[n+1]),0)}function r(){setTimeout(()=>B(u[n-1]),0)}let l=0,_=0,V=0;function q(){c(1,l=screen.orientation.type=="landscape-primary"?1:0),c(2,_=screen.orientation.type=="landscape-secondary"?1:0),c(3,V=screen.orientation.type=="portrait-primary"?1:0)}$(()=>{screen.orientation.onchange=q,q(),ae.onAuthStateChanged(async p=>{if(!p){j.update(L=>({...L,isLoading:!1,currentUser:p}));return}const x=G(J,"users",p.uid),F=await le(x);let U={text:""};if(F.exists())console.log("Fetching firestore user doc..."),U=F.data();else{console.log("Creating firestore user doc...");const L=G(J,"users",p.uid);await ue(L,U,{merge:!0})}j.update(L=>({...L,isLoading:!1,currentUser:p,data:U}))})});function Z(){fe.logout(),setTimeout(()=>B("/"),0)}return f.$$set=p=>{"data"in p&&c(0,t=p.data),"$$scope"in p&&c(11,s=p.$$scope)},f.$$.update=()=>{f.$$.dirty&1024&&c(4,n=u.indexOf(i.url.pathname))},[t,l,_,V,n,d,u,o,r,Z,i,s,a]}class Le extends se{constructor(e){super(),ie(this,e,me,pe,Y,{data:0})}}export{Le as component,ye as universal};
