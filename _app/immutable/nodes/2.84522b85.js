import{s as U,r as se,f as V,n as j,c as ie}from"../chunks/scheduler.09d52c7e.js";import{S as A,i as F,g as p,s as T,h as m,j as D,f as v,c as L,B as w,k as d,a as y,y as h,E as S,C as z,d as I,p as X,t as M,b as Y,D as K,e as Q,x as ne,z as B,A as O,r as Z,u as ee,v as te,w as re}from"../chunks/index.348de0aa.js";import{f as k}from"../chunks/index.6e8cb6e9.js";import{e as le,b as ae}from"../chunks/authStore.a7b32317.js";import{g as oe}from"../chunks/Auth.svelte_svelte_type_style_lang.adbc1b7c.js";function W(o){let e,t="Failed to login!",r,n;return{c(){e=p("p"),e.textContent=t,this.h()},l(s){e=m(s,"P",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-1g3skzd"&&(e.textContent=t),this.h()},h(){d(e,"class","error svelte-1glrvcq")},m(s,i){y(s,e,i),n=!0},i(s){n||(s&&V(()=>{n&&(r||(r=K(e,k,{duration:150},!0)),r.run(1))}),n=!0)},o(s){s&&(r||(r=K(e,k,{duration:150},!1)),r.run(0)),n=!1},d(s){s&&v(e),s&&r&&r.end()}}}function ce(o){let e,t,r,n,s,i,l,q='<div class="svelte-1glrvcq"></div>',a,c,_,x,$,R='<div class="svelte-1glrvcq"></div>',N,C,b,G='<div class="login-logo svelte-1glrvcq"></div>',P,J,u=o[2]&&W();return{c(){e=p("form"),t=p("div"),r=T(),n=p("div"),s=p("input"),i=T(),l=p("div"),l.innerHTML=q,a=T(),c=p("div"),_=p("input"),x=T(),$=p("div"),$.innerHTML=R,N=T(),u&&u.c(),C=T(),b=p("button"),b.innerHTML=G,this.h()},l(g){e=m(g,"FORM",{class:!0});var f=D(e);t=m(f,"DIV",{class:!0}),D(t).forEach(v),r=L(f),n=m(f,"DIV",{class:!0});var E=D(n);s=m(E,"INPUT",{class:!0,type:!0}),i=L(E),l=m(E,"DIV",{class:!0,"data-svelte-h":!0}),w(l)!=="svelte-1jz8sp1"&&(l.innerHTML=q),E.forEach(v),a=L(f),c=m(f,"DIV",{class:!0});var H=D(c);_=m(H,"INPUT",{class:!0,type:!0}),x=L(H),$=m(H,"DIV",{class:!0,"data-svelte-h":!0}),w($)!=="svelte-1wb48a2"&&($.innerHTML=R),H.forEach(v),N=L(f),u&&u.l(f),C=L(f),b=m(f,"BUTTON",{class:!0,"data-svelte-h":!0}),w(b)!=="svelte-1rbrzli"&&(b.innerHTML=G),f.forEach(v),this.h()},h(){d(t,"class","heart-logo svelte-1glrvcq"),d(s,"class","email input svelte-1glrvcq"),d(s,"type","email"),s.required=!0,d(l,"class","email-logo svelte-1glrvcq"),d(n,"class","email svelte-1glrvcq"),d(_,"class","input svelte-1glrvcq"),d(_,"type","password"),_.required=!0,d($,"class","password-logo svelte-1glrvcq"),d(c,"class","password svelte-1glrvcq"),d(b,"class","button login svelte-1glrvcq"),d(e,"class","container svelte-1glrvcq")},m(g,f){y(g,e,f),h(e,t),h(e,r),h(e,n),h(n,s),S(s,o[0]),h(n,i),h(n,l),h(e,a),h(e,c),h(c,_),S(_,o[1]),h(c,x),h(c,$),h(e,N),u&&u.m(e,null),h(e,C),h(e,b),P||(J=[z(s,"input",o[5]),z(_,"input",o[6]),z(b,"click",o[3])],P=!0)},p(g,[f]){f&1&&s.value!==g[0]&&S(s,g[0]),f&2&&_.value!==g[1]&&S(_,g[1]),g[2]?u?f&4&&I(u,1):(u=W(),u.c(),I(u,1),u.m(e,C)):u&&(X(),M(u,1,1,()=>{u=null}),Y())},i(g){I(u)},o(g){M(u)},d(g){g&&v(e),u&&u.d(),P=!1,se(J)}}}function ue(o,e,t){let{redirect:r=""}=e,n="",s="",i=!1;async function l(){try{t(2,i=!1),await le.login(n,s),r&&oe(r)}catch{console.log("Login failed!"),t(2,i=!0)}}function q(){n=this.value,t(0,n)}function a(){s=this.value,t(1,s)}return o.$$set=c=>{"redirect"in c&&t(4,r=c.redirect)},[n,s,i,l,r,q,a]}class fe extends A{constructor(e){super(),F(this,e,ue,ce,U,{redirect:4})}}function de(o){let e;return{c(){e=p("span"),this.h()},l(t){e=m(t,"SPAN",{class:!0}),D(e).forEach(v),this.h()},h(){d(e,"class","loader svelte-tms8hr")},m(t,r){y(t,e,r)},p:j,i:j,o:j,d(t){t&&v(e)}}}class ve extends A{constructor(e){super(),F(this,e,null,de,U,{})}}function _e(o){let e,t="<h2>Failed to redirect</h2>",r,n,s;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(i){e=m(i,"DIV",{class:!0,"data-svelte-h":!0}),w(e)!=="svelte-ujdmym"&&(e.innerHTML=t),this.h()},h(){d(e,"class","center")},m(i,l){y(i,e,l),s=!0},i(i){s||(i&&V(()=>{s&&(n&&n.end(1),r=B(e,k,{duration:300,delay:300}),r.start())}),s=!0)},o(i){r&&r.invalidate(),i&&(n=O(e,k,{duration:300})),s=!1},d(i){i&&v(e),i&&n&&n.end()}}}function he(o){let e,t,r,n,s;return t=new fe({props:{redirect:"/energy"}}),{c(){e=p("div"),Z(t.$$.fragment),this.h()},l(i){e=m(i,"DIV",{class:!0});var l=D(e);ee(t.$$.fragment,l),l.forEach(v),this.h()},h(){d(e,"class","auth-container center svelte-1jn80n")},m(i,l){y(i,e,l),te(t,e,null),s=!0},i(i){s||(I(t.$$.fragment,i),i&&V(()=>{s&&(n&&n.end(1),r=B(e,k,{duration:300,delay:300}),r.start())}),s=!0)},o(i){M(t.$$.fragment,i),r&&r.invalidate(),i&&(n=O(e,k,{duration:300})),s=!1},d(i){i&&v(e),re(t),i&&n&&n.end()}}}function pe(o){let e,t,r,n,s;return t=new ve({}),{c(){e=p("div"),Z(t.$$.fragment),this.h()},l(i){e=m(i,"DIV",{class:!0});var l=D(e);ee(t.$$.fragment,l),l.forEach(v),this.h()},h(){d(e,"class","center")},m(i,l){y(i,e,l),te(t,e,null),s=!0},i(i){s||(I(t.$$.fragment,i),i&&V(()=>{s&&(n&&n.end(1),r=B(e,k,{duration:300,delay:300}),r.start())}),s=!0)},o(i){M(t.$$.fragment,i),r&&r.invalidate(),i&&(n=O(e,k,{duration:300})),s=!1},d(i){i&&v(e),re(t),i&&n&&n.end()}}}function me(o){let e,t,r,n,s;const i=[pe,he,_e],l=[];function q(a,c){return a[0].isLoading?0:a[0].currentUser?2:1}return t=q(o),r=l[t]=i[t](o),{c(){e=T(),r.c(),n=Q(),this.h()},l(a){ne("svelte-14t3t7r",document.head).forEach(v),e=L(a),r.l(a),n=Q(),this.h()},h(){document.title="My Dearest"},m(a,c){y(a,e,c),l[t].m(a,c),y(a,n,c),s=!0},p(a,[c]){let _=t;t=q(a),t!==_&&(X(),M(l[_],1,1,()=>{l[_]=null}),Y(),r=l[t],r||(r=l[t]=i[t](a),r.c()),I(r,1),r.m(n.parentNode,n))},i(a){s||(I(r),s=!0)},o(a){M(r),s=!1},d(a){a&&(v(e),v(n)),l[t].d(a)}}}function ge(o,e,t){let r;return ie(o,ae,n=>t(0,r=n)),[r]}class Te extends A{constructor(e){super(),F(this,e,ge,me,U,{})}}export{Te as component};
